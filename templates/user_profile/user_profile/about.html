<div class="tab-content pt-2">
  
  <div class="tab-pane fade show active profile-overview" id="profile-overview">
    <h5 class="card-title">About</h5>
    <p class="small fst-italic">{{ user.about }}</p>

    <h5 class="card-title">Profile Details</h5>

    <div class="row" id="profileDetailsContainer">
      <div class="col-lg-3 col-md-4 label" id="fullNameLabel">Full Name</div>
      <div class="col-lg-9 col-md-8" id="fullName">{{ user.full_name }}</div>

      <div class="col-lg-3 col-md-4 label" id="companyLabel">Company</div>
      <div class="col-lg-9 col-md-8" id="company">{{ user.company }}</div>

      <div class="col-lg-3 col-md-4 label" id="jobLabel">Job</div>
      <div class="col-lg-9 col-md-8" id="job">{{ user.job }}</div>

      <div class="col-lg-3 col-md-4 label" id="countryLabel">Country</div>
      <div class="col-lg-9 col-md-8" id="country">{{ user.country }}</div>

      <div class="col-lg-3 col-md-4 label" id="addressLabel">Address</div>
      <div class="col-lg-9 col-md-8" id="address">{{ user.address }}</div>

      <div class="col-lg-3 col-md-4 label" id="phoneLabel">Phone</div>
      <div class="col-lg-9 col-md-8" id="phone">{{ user.phone }}</div>

      <div class="col-lg-3 col-md-4 label" id="emailLabel">Email</div>
      <div class="col-lg-9 col-md-8" id="email">{{ user.email }}</div>
</div>

<script>
  // Fetch profile details from Supabase
  document.addEventListener('DOMContentLoaded', async () => {
    const labels = document.querySelectorAll('.label');
    const supabase = createClient('https://dqkquwhmpmmswxcyrqem.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImRxa3F1d2htcG1tc3d4Y3lycWVtIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MTQ3NDI3MzYsImV4cCI6MjAzMDMxODczNn0.laxhsxnF-Sbsh_FhulaODDPgFeUxKWKfWPUO20RG_tE');

    // Fetch profile details from Supabase
    const { data, error } = await supabase
      .from('profile_details')
      .select('*');

    if (error) {
      console.error('Error fetching profile details:', error);
    } else {
      data.forEach(detail => {
        const labelElement = document.getElementById(`${detail.label.toLowerCase()}Label`);
        const valueElement = document.getElementById(`${detail.label.toLowerCase()}`);
        if (labelElement && valueElement) {
          labelElement.textContent = detail.label;
          valueElement.textContent = detail.value;
        }
      });
    }
  });
</script>
